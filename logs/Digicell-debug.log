2025-06-28 14:53:52.593 [main] DEBUG com.api.digicell.DigicellApplicationTests [ReqId:] [User:] [Agent:] [Conv:] - Running with Spring Boot v3.2.3, Spring v6.1.4
2025-06-28 14:54:39.997 [main] DEBUG com.api.digicell.DigicellApplicationTests [ReqId:] [User:] [Agent:] [Conv:] - Running with Spring Boot v3.2.3, Spring v6.1.4
2025-06-28 14:54:41.986 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table aliases (alias_id bigint not null auto_increment, alias_key varchar(50) not null, alias_value TEXT not null, primary key (alias_id)) engine=InnoDB
2025-06-28 14:54:42.001 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table assistant_configuration (id integer not null auto_increment, age integer, assistant_type enum ('normal','multiagent') not null, category varchar(255), created_by varchar(255), created_on datetime(6), description varchar(255), gender varchar(255), image_url varchar(255), is_dynamic_opening_message bit, name varchar(255) not null, opening_message varchar(255), opening_message_config varchar(255), prompt varchar(255), role varchar(255), role_id integer not null, status bit, tenant_id varchar(255) not null, updated_by varchar(255), updated_on datetime(6), primary key (id)) engine=InnoDB
2025-06-28 14:54:42.005 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table clients (client_id varchar(255) not null, created_at datetime(6), email varchar(255) not null, is_assigned bit, labels json, name varchar(255) not null, phone varchar(255) not null, updated_at datetime(6), primary key (client_id)) engine=InnoDB
2025-06-28 14:54:42.010 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table conversations (conversation_id varchar(255) not null, client_id varchar(255) not null, user_id bigint not null, primary key (conversation_id)) engine=InnoDB
2025-06-28 14:54:42.014 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table login_info (id bigint not null auto_increment, email varchar(255), is_active bit, primary key (id)) engine=InnoDB
2025-06-28 14:54:42.018 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table organizations (organization_id bigint not null auto_increment, country_id integer not null, created_on datetime(6) not null, hierarchy_level integer not null, image_url varchar(255), organization_address varchar(255), organization_desc varchar(255), organization_name varchar(100) not null, type enum ('Parent','Child') not null, parent_organization_id bigint, poc_email varchar(100) not null, poc_name varchar(255) not null, status bit not null, tenant_id varchar(255), updated_on datetime(6), primary key (organization_id)) engine=InnoDB
2025-06-28 14:54:42.022 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table resource_permissions (id bigint not null auto_increment, allowed_routes varchar(255), description_key varchar(255), icon_url varchar(255), is_active boolean default true, name varchar(255) not null, parent_id bigint, position bigint, redirect_url varchar(255), resource_type enum ('HIERARCHY','TAB') not null, route_path varchar(255), primary key (id)) engine=InnoDB
2025-06-28 14:54:42.025 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table user_accounts (user_id bigint not null auto_increment, created_at datetime(6) not null, created_by bigint not null, email varchar(255) not null, is_active bit not null, password_hash varchar(255) not null, phone_number varchar(255) not null, status enum ('ONLINE','OFFLINE'), updated_at datetime(6) not null, user_name varchar(255) not null, primary key (user_id)) engine=InnoDB
2025-06-28 14:54:42.027 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - create table user_org_permissions (id bigint not null auto_increment, access_label varchar(255), organization_id bigint not null, resource_id bigint, user_id bigint not null, primary key (id)) engine=InnoDB
2025-06-28 14:54:42.031 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table aliases drop index UK_fnt81d30li71lbonbjkj1cvpx
2025-06-28 14:54:42.037 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table aliases add constraint UK_fnt81d30li71lbonbjkj1cvpx unique (alias_key)
2025-06-28 14:54:42.044 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table assistant_configuration drop index UKld41bl2gijg2cmxyewllpff7g
2025-06-28 14:54:42.045 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table assistant_configuration add constraint UKld41bl2gijg2cmxyewllpff7g unique (tenant_id, name)
2025-06-28 14:54:42.048 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table login_info drop index UK_94emhv2kf4136gpqjhugf14pm
2025-06-28 14:54:42.049 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table login_info add constraint UK_94emhv2kf4136gpqjhugf14pm unique (email)
2025-06-28 14:54:42.052 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_accounts drop index UK_f9sl209luxhu4rylls0h1m625
2025-06-28 14:54:42.052 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_accounts add constraint UK_f9sl209luxhu4rylls0h1m625 unique (email)
2025-06-28 14:54:42.055 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_accounts drop index UK_1u4s1u6ctndl9gsgnuvcw87xh
2025-06-28 14:54:42.056 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_accounts add constraint UK_1u4s1u6ctndl9gsgnuvcw87xh unique (user_name)
2025-06-28 14:54:42.060 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table conversations add constraint FKteao7jjcjke9f3gahm4pr73hd foreign key (client_id) references clients (client_id)
2025-06-28 14:54:42.074 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table conversations add constraint FKbkgeoec0jw96r8d0792wq7bc3 foreign key (user_id) references user_accounts (user_id)
2025-06-28 14:54:42.080 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_org_permissions add constraint FKlmehupcvybmp16pbi4hwmvd16 foreign key (organization_id) references organizations (organization_id)
2025-06-28 14:54:42.088 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_org_permissions add constraint FK6we53amgvcmqngk0iov8g3hih foreign key (resource_id) references resource_permissions (id)
2025-06-28 14:54:42.094 [main] DEBUG org.hibernate.SQL [ReqId:] [User:] [Agent:] [Conv:] - alter table user_org_permissions add constraint FK1vfelw0mtlau6g3fa3a2jpjjx foreign key (user_id) references user_accounts (user_id)
2025-06-28 14:56:41.285 [main] DEBUG com.api.digicell.DigicellApplication [ReqId:] [User:] [Agent:] [Conv:] - Running with Spring Boot v3.2.3, Spring v6.1.4
2025-06-28 15:01:15.375 [main] DEBUG com.api.digicell.DigicellApplication [ReqId:] [User:] [Agent:] [Conv:] - Running with Spring Boot v3.2.3, Spring v6.1.4
2025-06-28 15:01:17.610 [main] DEBUG com.api.digicell.security.JwtRequestFilter [ReqId:] [User:] [Agent:] [Conv:] - Filter 'jwtRequestFilter' configured for use
2025-06-28 15:02:17.829 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:02:17.827606
2025-06-28 15:03:17.820 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:03:17.820078
2025-06-28 15:04:17.822 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:04:17.822013
2025-06-28 15:05:17.819 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:05:17.818828
2025-06-28 15:06:17.817 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:06:17.816781
2025-06-28 15:07:17.814 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:07:17.814457
2025-06-28 15:08:17.811 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:08:17.811195
2025-06-28 15:09:17.809 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:09:17.808529
2025-06-28 15:10:17.807 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:10:17.806461
2025-06-28 15:11:17.806 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:11:17.805388
2025-06-28 15:12:17.801 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:12:17.801225
2025-06-28 15:13:17.794 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:13:17.794140
2025-06-28 15:14:17.793 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:14:17.792510
2025-06-28 15:15:17.790 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:15:17.789975
2025-06-28 15:16:17.788 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:16:17.787475
2025-06-28 15:17:17.782 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:17:17.781927
2025-06-28 15:18:17.783 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:18:17.782422
2025-06-28 15:19:17.780 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:19:17.779980
2025-06-28 15:20:17.779 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:20:17.778347
2025-06-28 15:21:17.774 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:21:17.773994
2025-06-28 15:22:17.770 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:22:17.769713
2025-06-28 15:23:17.771 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:23:17.770084
2025-06-28 15:24:17.766 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:24:17.765672
2025-06-28 15:25:17.764 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:25:17.763576
2025-06-28 15:26:17.759 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:26:17.758934
2025-06-28 15:27:17.760 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:27:17.759653
2025-06-28 15:28:17.757 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:28:17.757142
2025-06-28 15:29:17.858 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:29:17.858072
2025-06-28 15:30:17.854 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:30:17.853224
2025-06-28 15:31:17.852 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:31:17.851885
2025-06-28 15:32:17.851 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:32:17.850233
2025-06-28 15:33:17.850 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:33:17.849327
2025-06-28 15:34:17.861 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T15:34:17.860678
2025-06-28 16:19:22.233 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T16:19:22.233399
2025-06-28 17:28:47.070 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T17:28:47.070685
2025-06-28 17:44:37.849 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T17:44:37.849171
2025-06-28 18:13:37.610 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T18:13:37.610130
2025-06-28 19:17:13.197 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T19:17:13.197134
2025-06-28 20:10:40.028 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T20:10:40.028560
2025-06-28 20:47:56.355 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T20:47:56.355949
2025-06-28 20:53:25.370 [main] DEBUG com.api.digicell.DigicellApplication [ReqId:] [User:] [Agent:] [Conv:] - Running with Spring Boot v3.2.3, Spring v6.1.4
2025-06-28 20:53:27.904 [main] DEBUG com.api.digicell.security.JwtRequestFilter [ReqId:] [User:] [Agent:] [Conv:] - Filter 'jwtRequestFilter' configured for use
2025-06-28 20:54:28.121 [pool-3-thread-1] DEBUG com.api.digicell.services.SocketConnectionService [ReqId:] [User:] [Agent:] [Conv:] - 🧹 Running periodic conversation cleanup at 2025-06-28T20:54:28.120565
